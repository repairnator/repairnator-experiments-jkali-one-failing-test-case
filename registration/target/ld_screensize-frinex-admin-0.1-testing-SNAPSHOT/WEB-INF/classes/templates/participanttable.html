<!DOCTYPE html>
                <html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
                    <head><title></title></head>
    <body>
        <table>
                    <tr th:fragment="participantheader">
                    <th th:if="${param.detailed}"><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=id'">ID</a></th>
                    <th th:if="${param.detailed}"><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=staleCopy'">Stale</a></th>
                    <th th:if="${param.detailed}"><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=userId'">UUID</a></th>
                    <th th:if="${param.detailed}"><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=userAgent'">User Agent</a></th>
                    <th th:if="${param.detailed}"><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=acceptLang'">Browser Language</a></th>
                
            <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=workerId'">Proefpersoon ID</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=datOfBirth'">Geboortedatum</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=gender'">Geslacht</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=groupAllocation\_Room\_1'">groupAllocation_Room_1</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=groupAllocation\_Room\_2'">groupAllocation_Room_2</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=groupAllocation\_Room\_3'">groupAllocation_Room_3</a></th>
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=groupAllocation\_Room\_4'">groupAllocation_Room_4</a></th>
                    
                <th><a th:attr="href='?' + ${(param.detailed != null)? 'detailed' : 'simple'} + '&amp;sort=submitDate'">Date</a></th>
                </tr>
                    <tr th:fragment="participantrows">
                    <td th:if="${param.detailed}" th:text="${participant.id}">id</td>
                    <td th:if="${param.detailed}" th:text="${participant.staleCopy}">staleCopy</td>
                    <td th:if="${param.detailed}" th:text="${participant.userId}">userId</td>
                    <td th:if="${param.detailed}" th:text="${participant.userAgent}">userAgent</td>
                    <td th:if="${param.detailed}" th:text="${participant.acceptLang}">acceptLang</td>
                
            
                    <td  th:text="${participant.workerId}"></td>
                    <td  th:text="${participant.datOfBirth}"></td>
                    <td  th:text="${participant.gender}"></td>
                    <td  th:text="${participant.groupAllocation_Room_1}"></td>
                    <td  th:text="${participant.groupAllocation_Room_2}"></td>
                    <td  th:text="${participant.groupAllocation_Room_3}"></td>
                    <td  th:text="${participant.groupAllocation_Room_4}"></td>    
                <td th:text="${participant.submitDate}">submitDate</td>
                </tr>
                <tr th:fragment="participantinputfields">
                <td th:if="${param.detailed}"></td>
                <td th:if="${param.detailed}"></td>
                <td th:if="${param.detailed}"></td>
                <td th:if="${param.detailed}"></td>
            <td><input id="workerIdInput" /></td><td><input id="datOfBirthInput" /></td><td><input id="genderInput" /></td><td><input id="groupAllocation_Room_1Input" /></td><td><input id="groupAllocation_Room_2Input" /></td><td><input id="groupAllocation_Room_3Input" /></td><td><input id="groupAllocation_Room_4Input" /></td>    
                <td><button id="addParticipantButton" class="tableButton" >Add Participant</button></td></tr>
                </table>
            </body>
        </html>
                
                    <script th:fragment="addparticipantscript">
                $(document).ready(function () {
                $("#addParticipantButton").on('click', function () {
                $.ajax({
                url: 'metadata',
                type: "POST",
                dataType : "json",
                contentType: "application/json; charset=utf-8",
                data: "[{\"workerId\": \"" + $("#workerIdInput").val() + "\",\"datOfBirth\": \"" + $("#datOfBirthInput").val() + "\",\"gender\": \"" + $("#genderInput").val() + "\",\"groupAllocation_Room_1\": \"" + $("#groupAllocation_Room_1Input").val() + "\",\"groupAllocation_Room_2\": \"" + $("#groupAllocation_Room_2Input").val() + "\",\"groupAllocation_Room_3\": \"" + $("#groupAllocation_Room_3Input").val() + "\",\"groupAllocation_Room_4\": \"" + $("#groupAllocation_Room_4Input").val() + "\"}]",
                success: function (result) {
                location.reload();
                },
                error: function (xhr, resp, text) {
                console.log(xhr, resp, text);
                }
                })
                });
                });

                    </script>
            