<!doctype html>

<html>
<head>

	<!-- Charset -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	<!-- Default GWT locale -->
	<meta name="gwt:property" content="locale=en">

	<!-- FavIcons -->
	<link rel="icon" href="img/perun.ico" type="image/x-icon">
	<link rel="shortcut icon" href="img/perun.ico" type="image/x-icon">

	<!-- Styles -->
	<link type="text/css" rel="stylesheet" href="./PerunWeb.css">

	<!-- Title -->
	<title>Perun web gui</title>

	<!--  jQuery -->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>

	<!--  RPC definition -->
	<script type="text/javascript" language="javascript" >
		RPC_SERVER = window.location.pathname.split("/")[1];

		<!-- Fix Windows+Chrome+Kerberos authz - chrome doesn't trust whole domain, we must call most top-level path -->
		$.ajax({
			url: "/" + window.location.pathname.split("/")[1] + "/rpc/",
			type: "get"
		});

	</script>

	<!--  Set language -->
	<script type="text/javascript" language="javascript" >

		// get URL param function
		function getURLParameter(name) {
			return decodeURI(
					(RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,'default'])[1]
			);
		}

		// determine version of IE
		function getIEVersion() {
			var sAgent = window.navigator.userAgent;
			var Idx = sAgent.indexOf("MSIE");

			// If IE, return version number.
			if (Idx > 0)
				return parseInt(sAgent.substring(Idx+ 5, sAgent.indexOf(".", Idx)));

			// If IE 11 then look for Updated user agent string.
			else if (!!navigator.userAgent.match(/Trident\/7\./))
				return 11;

			else
				return 0; //It is not IE
		}

		var l_lang;
		l_lang = getURLParameter('locale');

		if (l_lang === 'default') {
			l_lang = 'en';
		}

		$("meta[name='gwt:property']").attr('content', 'locale='+l_lang);

		// Skip on Chrome 1+, Firefox 3.5+, IE 8+, Opera 15+, Safari 3.2
		if (getIEVersion() !== 0 && getIEVersion() < 10) {
			// Is IE < 10
			alert("Unsupported browser. Please use either: Internet Explorer 10+ or Edge, Firefox, Chrome, Opera 15+ or Safari");
		}
		var isOperaBefore15 = (window.opera && navigator.userAgent.indexOf(' OPR/') === -1);
		if (isOperaBefore15) {
			alert("Unsupported browser. Please use either: Internet Explorer 10+ or Edge, Firefox, Chrome, Opera 15+ or Safari");
		}

	</script>

	<!-- Load GWT GUI -->
	<script type="text/javascript" language="javascript" src="./PerunWeb/PerunWeb.nocache.js"></script>

</head>

<body>

<!-- OPTIONAL: include this if you want history support -->
<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0"></iframe>

<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
	<div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
		Your web browser must have JavaScript enabled in order for this
		application to display correctly.</div>
</noscript>

</body>

</html>
