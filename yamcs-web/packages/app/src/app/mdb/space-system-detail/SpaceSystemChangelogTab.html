<ng-container *ngIf="spaceSystem$ | async as spaceSystem">
  <ng-container *ngIf="spaceSystem.history; else empty">
    <div style="margin-bottom: 12px">
      <input placeholder="Filter changelog"
            style="width: 400px"
            (keyup)="applyFilter($event.target.value)">
    </div>

    <table mat-table [dataSource]="historyDataSource" class="ya-data-table">
      <ng-container cdkColumnDef="version">
        <th mat-header-cell *cdkHeaderCellDef style="width: 100px">Version</th>
        <td mat-cell *cdkCellDef="let row">
          {{ row.version || '-' }}
        </td>
      </ng-container>

      <ng-container cdkColumnDef="date">
        <th mat-header-cell *cdkHeaderCellDef style="width: 150px">Date</th>
        <td mat-cell *cdkCellDef="let row">
          {{ row.date || '-' }}
        </td>
      </ng-container>

      <ng-container cdkColumnDef="message">
        <th mat-header-cell *cdkHeaderCellDef style="width: 400px">Message</th>
        <td mat-cell *cdkCellDef="let row" style="white-space: pre-wrap">
          {{ row.message || '-' }}
        </td>
      </ng-container>

      <ng-container cdkColumnDef="author">
        <th mat-header-cell *cdkHeaderCellDef style="width: 100px">Author</th>
        <td mat-cell *cdkCellDef="let row">
          {{ row.author || '-' }}
        </td>
      </ng-container>

      <tr mat-header-row *cdkHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *cdkRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </ng-container>

  <ng-template #empty>
    Empty changelog.
  </ng-template>
</ng-container>
