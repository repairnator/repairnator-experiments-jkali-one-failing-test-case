# JKali Patches associated with Travis CI builds having only one failing test case

This is an open-science repository that collects the Kali patches generated by [Repairnator](https://github.com/eclipse/repairnator) during the analysis of the Travis CI builds characterised by only one failing test case and no test cases with errors.

This repository aims to contain the code of the failing Java projects and to analyze the Kali patches generated using [AstorJKali](https://github.com/SpoonLabs/astor#jkali).

## Content of the repository

The structure of the repository is as follows:

- Branch `master` contains the `jkali-patches` folder and the documentation of this repository;
- The `jkali-patches` folder contains the patches generated by Repairnator (using the `AstorJKali` repair mode) analyzing the Travis CI build failure related to Java programs that use Maven as building tool;
- For each of these failing builds, there is a specific branch with all the information related to the building of the project, bug reproduction, failing tests and repair attempts.

## Statistics

The builds collected in the dataset [repairnator-experiments](https://github.com/repairnator/repairnator-experiments) with only one failing test case are 2.381. In the following table, there are the different states of the builds detected by Repairnator during the analysis:

|                        | Failing | Patched | Not clonable | Not buildable | Not checked out | Not testable | Not failing|
|--------------------------|:--------:|:--------:|:------------:|:-------------:|---------------:|--------------:|-------:|
| **Number of the builds** | 1.687    | 73       |     -        | 275           | -              | 50            | 262    |

In this repository there are 1.763 branches (excluding `master` branch), each of them associated with a failure.

## Builds to be re-executed

- **EnMasseProject-enmasse-377294634-20180510-191135**: the reproduction of the failure generated `four erroring test cases` (three `java.net.BindException` and one `java.util.concurrent.TimeoutException`) instead of only one failing test case. I tried to run the program in local (without using Repairnator), but it passed all the test cases.

## Patch Analysis

### EnMasseProject-enmasse-353457987-20180314-185443

- **Branch associated with the failure**: [repairnator-repairnator-experiments-EnMasseProject-enmasse-353457987-20180314-185443-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-EnMasseProject-enmasse-353457987-20180314-185443-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.mockito.exceptions.verification.TooLittleActualInvocations | [FifoQueueTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/733c76e58890cea2d4ce004760de719ae04ca826/k8s-api/src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java#L64) | [FifoQueue.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/733c76e58890cea2d4ce004760de719ae04ca826/k8s-api/src/main/java/io/enmasse/k8s/api/cache/FifoQueue.java#L54)|

- **Kali patch**:

```diff
--- /src/main/java/io/enmasse/k8s/api/cache/FifoQueue.java
+++ /src/main/java/io/enmasse/k8s/api/cache/FifoQueue.java
@@ -44,7 +44,6 @@
 			return;
 		}
 		java.util.List<io.enmasse.k8s.api.cache.FifoQueue.Event<T>> events = new java.util.ArrayList<>();
-		queue.drainTo(events);
 		java.lang.String key = null;
 		if (event.obj != null) {
 			key = keyExtractor.getKey(event.obj);
```

- **Overview**: the problem is related to the test case that checks the correct behavior of the [method](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/733c76e58890cea2d4ce004760de719ae04ca826/k8s-api/src/main/java/io/enmasse/k8s/api/cache/FifoQueue.java#L46) changed by AstorJKali. Indeed, looking at the commit history of the project, the developer [changed the test case](https://github.com/EnMasseProject/enmasse/pull/1058/commits/848ff42b0ed3fa5888778957ac8daca909c98072) to handle the failure associated with the use of method `draintTo`, that is the method removed by AstorJKali to create the patch.
- **Reason why the patch has been generated**: AstorJKali managed to generate a patch because the test case only checks if the FifoQueue object is empty or not, but it doesn't check the inner properties of that object. In particular, it doesn't check the size of the private member variable `queue`. Thus, removing the call to the method `drainTo` in the method `pop` (as AstorJKali did), the queue `queue` is not really emptied, and so the method `pop` is executed two times (even if the queue should have been emptied the first time) satisfying the test case that checks how many times that method is called.
- **Useful information for the developer**: the Kali patch suggested that there was a problem with the method `drainTo` or with the test case `testRemove` that checks the behavior of that method. In this case, since the method `drainTo` is a method of the JDK, there is more probability that the error is not related to that method, but in the way used to test it. Thus, the developer can start to analyze the problem focusing on the test case, checking if it is correct or not.

- **Fix of the test case**:

```diff
From 848ff42b0ed3fa5888778957ac8daca909c98072 Mon Sep 17 00:00:00 2001
From: Ulf Lilleengen <lulf@redhat.com>
Date: Wed, 14 Mar 2018 20:29:54 +0100
Subject: Fix test to handle drain

---
 .../src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/k8s-api/src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java b/k8s-api/src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java
index 213c76fef1..ec7b7fda7f 100644
--- a/k8s-api/src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java
+++ b/k8s-api/src/test/java/io/enmasse/k8s/api/cache/FifoQueueTest.java
@@ -61,7 +61,7 @@ public void testRemove() throws Exception {
         assertTrue(queue.list().isEmpty());
 
         queue.pop(mockProc, 0, TimeUnit.SECONDS);
-        verify(mockProc, times(2)).process(eq("k1"));
+        verify(mockProc).process(eq("k1"));
         assertTrue(queue.listKeys().isEmpty());
         assertTrue(queue.list().isEmpty());
     }
```

### Inmapg-Text-Traffic-Simulator-368867994-20180419-235104

- **Branch associated with the failure**: [repairnator-repairnator-experiments-Inmapg-Text-Traffic-Simulator-368867994-20180419-235104-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-Inmapg-Text-Traffic-Simulator-368867994-20180419-235104-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [VehicleTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/af902a319926cfcbb772fbc6913f0a8112987129/src/test/java/pr5/tmodel/VehicleTest.java#L115) | [IniSection.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/af902a319926cfcbb772fbc6913f0a8112987129/src/main/java/pr5/ini/IniSection.java#L176)|

- **Kali patch**:

```diff
--- /src/main/java/pr5/ini/IniSection.java
+++ /src/main/java/pr5/ini/IniSection.java
@@ -85,7 +85,6 @@
 		}
 		for (java.lang.String key : this.getKeys()) {
 			if (!this.getValue(key).equals(other.getValue(key))) {
-				return false;
 			}
 		}
 		return true;
```

- **Overview**: the problem is related to the test case that checks the correct behavior of the [method](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/af902a319926cfcbb772fbc6913f0a8112987129/src/main/java/pr5/ini/IniSection.java#L159) changed by AstorJKali. Indeed, looking at the commit history of the project, the developer [changed the test case](https://github.com/Inmapg/Traffic-Simulator/commit/e59608185c3f326d46eb82371614d5ee354a9ba9) to handle the failure during the comparison of two `Vehicle` objects.
- **Reason why the patch has been generated**: AstorJKali managed to create a patch because the test case expects that two `IniSection` objects are equals, and since the patch removes the `return false` instruction, the objects are always equal, even if they are different. For this reason, there isn't the possibilty to recognise the error in the current test case. It is necessary to add some other checks in the test case that require `false` as expected value (e.g., a check of the individual properties of the objects, after a change to one of them, without the use of method `equals`).
- **Useful information for the developer**: the Kali patch suggested that there was a problem with the method `equals` or with the test case `VehicleFaultyTest` that checks the behavior of that method. Since it's correct that when two values are different the result of the comparison is false (this instruction has been removed by AstorJKali to create the fix), the developer can focus on the implementation of the test case to try to understand where the error might be.

- **Fix of the test case**:

```diff
From e59608185c3f326d46eb82371614d5ee354a9ba9 Mon Sep 17 00:00:00 2001
From: Inma <Inma@eduroam162180.eduroam.ucm.es>
Date: Thu, 19 Apr 2018 23:54:13 +0200
Subject: [PATCH] Fixing VehicleTest class

---
 src/test/java/pr5/tmodel/VehicleTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/test/java/pr5/tmodel/VehicleTest.java b/src/test/java/pr5/tmodel/VehicleTest.java
index 2248632..ca127a5 100755
--- a/src/test/java/pr5/tmodel/VehicleTest.java
+++ b/src/test/java/pr5/tmodel/VehicleTest.java
@@ -109,7 +109,7 @@ public void VehicleFaultyTest(){
         assertEquals(correct, result);
         vehicle.makeFaulty(2);
         correct.setValue("time", "2");
-        correct.setValue("speed", "10");
+        correct.setValue("speed", "0");
         correct.setValue("faulty", "2");
         result = vehicle.generateReport(2);
         assertEquals(correct, result);
```

### KGreg314-ivt-lab-380634197-20180518-125533

- **Branch associated with the failure**: [repairnator-repairnator-experiments-KGreg314-ivt-lab-380634197-20180518-125533-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-KGreg314-ivt-lab-380634197-20180518-125533-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [GT4500Test.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/56c6b18912d8305128accfb32537b6c4f2d3c955/src/test/java/hu/bme/mit/spaceship/GT4500Test.java#L151) | [GT4500.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/56c6b18912d8305128accfb32537b6c4f2d3c955/src/main/java/hu/bme/mit/spaceship/GT4500.java#L38)|

- **Kali patch**:

```diff
--- /src/main/java/hu/bme/mit/spaceship/GT4500.java
+++ /src/main/java/hu/bme/mit/spaceship/GT4500.java
@@ -20,25 +20,25 @@
 @java.lang.Override
 public boolean fireTorpedo(hu.bme.mit.spaceship.FiringMode firingMode) {
  boolean firingSuccess = false;
- if (firingMode == hu.bme.mit.spaceship.FiringMode.SINGLE) {
     if (wasPrimaryFiredLast) {
      if (!secondaryTorpedoStore.isEmpty()) {
       firingSuccess = secondaryTorpedoStore.fire(1);
       wasPrimaryFiredLast = false;
+ if (true) {
     if (wasPrimaryFiredLast) {
      if (!secondaryTorpedoStore.isEmpty()) {
       firingSuccess = this.secondaryTorpedoStore.fire(1);
       this.wasPrimaryFiredLast = false;
```

- **Overview**: the problem is related to the outermost `else branch` of [the method](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/56c6b18912d8305128accfb32537b6c4f2d3c955/src/main/java/hu/bme/mit/spaceship/GT4500.java#L38) removed by AstorJKali. Indeed, looking at the commit history of the project, the developer implemented the outermost `else branch` in the [next commit](https://github.com/KGreg314/ivt-lab/compare/e45e9f994bdc...5669e29937d3).
- **Reason why the patch has been generated**: the test cases don't cover all of the possible paths of the method `fireTorpedo`, that is the bugged method changed by AstorJKali. In particular, applying the Kali patch, the method `fireTorpedo` executed by the failing test case returns the default value (`false`) that is the value expected by the test to pass. Actually, the test cases passes just because the default value is the same of the exptected value by the test case, and not because of the correctness of the patch.
- **Useful information for the developer**: the Kali patch suggested that the feature associated with the `else branch` (removed by the patch generated by AstorJKali) had an error. Indeed, looking at the source code, the `else branch`had yet to be implemented by the developer.
- **Fix of the source code**:

```diff
From 5669e29937d3a18c4ac17d5e33ba2dd03cd5ec75 Mon Sep 17 00:00:00 2001
From: meres <kgreg314@gmail.com>
Date: Fri, 18 May 2018 04:05:40 -0700
Subject: [PATCH] Add JoCoCo & Implement ALL firing mode perfectly

diff --git a/src/main/java/hu/bme/mit/spaceship/GT4500.java b/src/main/java/hu/bme/mit/spaceship/GT4500.java
index 48160c0..bbcd26d 100644
--- a/src/main/java/hu/bme/mit/spaceship/GT4500.java
+++ b/src/main/java/hu/bme/mit/spaceship/GT4500.java
@@ -78,7 +78,18 @@ public boolean fireTorpedo(FiringMode firingMode) {
      else{
         // try to fire both of the torpedo stores
         //TODO implement feature
-	firingSuccess = true;
+        if (! primaryTorpedoStore.isEmpty() && ! secondaryTorpedoStore.isEmpty()) {
+          boolean successPrimary = primaryTorpedoStore.fire(1);
+	        boolean successSecondary = secondaryTorpedoStore.fire(1);
+	        firingSuccess = successPrimary || successSecondary;
+          wasPrimaryFiredLast = false;
+        } else if (! primaryTorpedoStore.isEmpty()) {
+            firingSuccess = primaryTorpedoStore.fire(1);
+            wasPrimaryFiredLast = true;          
+        } else if (! secondaryTorpedoStore.isEmpty()) {
+            firingSuccess = secondaryTorpedoStore.fire(1);
+            wasPrimaryFiredLast = false;          
+        }
 
         
     }
```

### apache-commons-rng-354875355-20180318-011906

- **Branch associated with the failure**: [repairnator-repairnator-experiments-apache-commons-rng-354875355-20180318-011906-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-apache-commons-rng-354875355-20180318-011906-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [ContinuousSamplerParametricTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7d5cad3df578cf7467be89478ede91b74d684ed7/commons-rng-sampling/src/test/java/org/apache/commons/rng/sampling/distribution/ContinuousSamplerParametricTest.java#L53) | [RejectionInversionZipfSampler.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7d5cad3df578cf7467be89478ede91b74d684ed7/commons-rng-sampling/src/main/java/org/apache/commons/rng/sampling/distribution/RejectionInversionZipfSampler.java#L60-L62)|

- **Kali patch**:

```diff
--- /src/main/java/org/apache/commons/rng/sampling/distribution/RejectionInversionZipfSampler.java
+++ /src/main/java/org/apache/commons/rng/sampling/distribution/RejectionInversionZipfSampler.java
@@ -22,9 +22,6 @@
 
 	public RejectionInversionZipfSampler(org.apache.commons.rng.UniformRandomProvider rng, int numberOfElements, double exponent) {
 		super(rng);
-		if (numberOfElements <= 0) {
-			throw new java.lang.IllegalArgumentException("number of elements is not strictly positive: " + numberOfElements);
-		}
 		if (exponent <= 0) {
 			throw new java.lang.IllegalArgumentException("exponent is not strictly positive: " + exponent);
 		}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### apache-commons-rng-403087258-20180712-141947

- **Branch associated with the failure**: [repairnator-repairnator-experiments-apache-commons-rng-403087258-20180712-141947-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-apache-commons-rng-403087258-20180712-141947-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError| [ContinuousSamplerParametricTest.java]() | [RejectionInversionZipfSampler.java]()|

- **Kali patch**:

```diff
--- /src/main/java/org/apache/commons/rng/sampling/distribution/RejectionInversionZipfSampler.java
+++ /src/main/java/org/apache/commons/rng/sampling/distribution/RejectionInversionZipfSampler.java
@@ -22,9 +22,6 @@
 
 	public RejectionInversionZipfSampler(org.apache.commons.rng.UniformRandomProvider rng, int numberOfElements, double exponent) {
 		super(rng);
-		if (numberOfElements <= 0) {
-			throw new java.lang.IllegalArgumentException("number of elements is not strictly positive: " + numberOfElements);
-		}
 		if (exponent <= 0) {
 			throw new java.lang.IllegalArgumentException("exponent is not strictly positive: " + exponent);
 		}

```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### atomix-atomix-365170225-20180411-171152

- **Branch associated with the failure**: [repairnator-repairnator-experiments-atomix-atomix-365170225-20180411-171152-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-atomix-atomix-365170225-20180411-171152-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [DefaultClusterServiceTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/0d0ebd0dc2bb7f81967c94e3471208eb9cdeacf7/cluster/src/test/java/io/atomix/cluster/impl/DefaultClusterServiceTest.java#L195) | [DefaultClusterService.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/0d0ebd0dc2bb7f81967c94e3471208eb9cdeacf7/cluster/src/main/java/io/atomix/cluster/impl/DefaultClusterService.java#L200)|

- **Kali patch**:

```diff
--- /src/main/java/io/atomix/cluster/impl/DefaultClusterService.java
+++ /src/main/java/io/atomix/cluster/impl/DefaultClusterService.java
@@ -91,7 +91,7 @@
 			io.atomix.cluster.impl.PhiAccrualFailureDetector failureDetector = failureDetectors.computeIfAbsent(node.id(), ( n) -> new io.atomix.cluster.impl.PhiAccrualFailureDetector());
 			double phi = failureDetector.phi();
 			if ((phi > 0) && ((phi >= phiFailureThreshold) || ((java.lang.System.currentTimeMillis() - failureDetector.lastUpdated()) > io.atomix.cluster.impl.DefaultClusterService.DEFAULT_FAILURE_TIME))) {
-				if (node.getState() == io.atomix.cluster.Node.State.ACTIVE) {
+				if (true) {
 					deactivateNode(node);
 				}
 			} else {
```

- **Overview**: The error is related to the status check of a `Node`.

- **Reason why the patch has been generated**: AstorJKali managed to create a patch, because changing the `if condition`, it forced the execution of method `deactivateNode`. This method uses [another way](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/0d0ebd0dc2bb7f81967c94e3471208eb9cdeacf7/cluster/src/main/java/io/atomix/cluster/impl/DefaultClusterService.java#L289) to get the `node` onject (it uses the node id, and it gets the node based on this id, checking in a Map), so that when its status is checked, it is `ACTIVE` (and not `INACTIVE`), and thus the method `deactivate(Node)` is executed in full. In this way, the node is deactivated and the assertion is satisfied.

- **Useful information for the developer**: The developer can see how the status of Node is got in the method [`deactivateNode`](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/0d0ebd0dc2bb7f81967c94e3471208eb9cdeacf7/cluster/src/main/java/io/atomix/cluster/impl/DefaultClusterService.java#L288), and use the same way to check the status in the `if condition` changed by AstorJKali. Indeed, in this way, all the test cases pass.

- **Possible fix**:

```diff
- if (node.getState() == State.ACTIVE) {
+ if (this.nodes.get(node.id()).getState() == State.ACTIVE)
```

**Pull Request History**: [https://github.com/atomix/atomix/pull/484/](https://github.com/atomix/atomix/pull/484/)

### BradleyWood-Software-Quality-Test-Framework-351075282-20180309-001538

- **Branch associated with the failure**: [repairnator-repairnator-experiments-BradleyWood-Software-Quality-Test-Framework-351075282-20180309-001538-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-BradleyWood-Software-Quality-Test-Framework-351075282-20180309-001538-firstCommit)

- **Travis CI Failing Build information**: [https://api.travis-ci.org/v3/build/351075282](https://api.travis-ci.org/v3/build/351075282)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [TestClassTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/334ae707921ac4021ff2f8fae1e41c4c0866f2fe/src/test/java/org/sqtf/TestClassTest.java#L49-L50) | [TestClass.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/334ae707921ac4021ff2f8fae1e41c4c0866f2fe/src/main/java/org/sqtf/TestClass.java#L158-L179)|

- **Kali patch**:

```diff
--- /src/main/java/org/sqtf/TestClass.java
+++ /src/main/java/org/sqtf/TestClass.java
@@ -133,27 +133,6 @@
 				continue;
 			}
 			int timeout = m.timeout();
-			if (params != null) {
-				java.util.List<java.lang.Object[]> testParameterList = getTestParameters(params.csvfile(), testMethod.getParameterTypes());
-				if (testParameterList != null) {
-					for (java.lang.Object[] objects : testParameterList) {
-						org.sqtf.TestResult result = runTest(testMethod, instance, timeout, objects);
-						resultCache.add(result);
-						final org.sqtf.TestResult finalResult = result;
-						listeners.forEach(( l) -> l.testCompleted(clazz.getSimpleName(), testMethod.getName(), finalResult.passed()));
-					}
-				} else {
-					org.sqtf.TestResult result = new org.sqtf.TestResult(testMethod, new org.sqtf.InvalidTestException(""), 0);
-					resultCache.add(result);
-					final org.sqtf.TestResult finalResult = result;
-					listeners.forEach(( l) -> l.testCompleted(clazz.getSimpleName(), testMethod.getName(), finalResult.passed()));
-				}
-			} else {
-				org.sqtf.TestResult result = runTest(testMethod, instance, timeout);
-				resultCache.add(result);
-				final org.sqtf.TestResult finalResult = result;
-				listeners.forEach(( l) -> l.testCompleted(clazz.getSimpleName(), testMethod.getName(), finalResult.passed()));
-			}
 		}
 		listeners.forEach(( l) -> l.classCompleted(clazz.getSimpleName(), testClassPassed.get()));
 		finishTime = java.lang.System.currentTimeMillis();

```

- **Overview**: The problem is related to a failing test case that should have passed. The failure reason is the absence of the data required by the failing test case. Indeed, looking at the commit history of the project, the [next commit after the failure](https://github.com/BradleyWood/Software-Quality-Test-Framework/compare/1392f1bfd1ba...757bfbfffc78) adds the test data, and the test case no longer fails.
- **Reason why the patch has been generated**: AstorJKali managed to create a patch because the failing assert is executed only if certain conditions are satisfied. Removing the piece of code associated with the patch generated by AstorJKali, this assert is no longer executed, and so the the program passes all the test cases.
- **Useful information for the developer**: AstorJKali removed a piece of code whose first line contains the use of method `csvfile()` to get the paths of files necessary for the test cases. If she checks the paths, she can uderstand that the files are missing, and so she can fix the failure.

- **Travis CI Fixed Build information**: [https://api.travis-ci.org/v3/build/351075788](https://api.travis-ci.org/v3/build/351075788)

- **Human fix**: [https://github.com/BradleyWood/Software-Quality-Test-Framework/compare/1392f1bfd1ba...757bfbfffc78](https://github.com/BradleyWood/Software-Quality-Test-Framework/compare/1392f1bfd1ba...757bfbfffc78)

### cqse-test-analyzer-397786068-20180628-145935

- **Branch associated with the failure**: [repairnator-repairnator-experiments-cqse-test-analyzer-397786068-20180628-145935-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-cqse-test-analyzer-397786068-20180628-145935-firstCommit)

- **Travis CI Failing Build information**: [https://api.travis-ci.org/v3/build/397786068](https://api.travis-ci.org/v3/build/397786068)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.junit.ComparisonFailure | [SurefireTestListenerTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/1b63f1b13f9ceae558c20cb8752636502f2846e8/test-analyzer-sdist/src/test/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/AbstractSurefireTestListenerTest.java#L48) | [AbstractSurefireTestListener.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/1b63f1b13f9ceae558c20cb8752636502f2846e8/test-analyzer-sdist/src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/AbstractSurefireTestListener.java#L128)|

- **Kali patch**:

```diff
--- /src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/AbstractSurefireTestListener.java
+++ /src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/AbstractSurefireTestListener.java
@@ -80,10 +80,9 @@
 
 	@java.lang.Override
 	public synchronized void testFinished(org.junit.runner.Description description) throws java.lang.Exception {
-		if (m_currentTestcaseFailed) {
-			writeCommentToResultFile("Failing test case: " + createTestcaseIdentifier(description).get());
+		if (m_currentTestcaseFailed)
 			return;
-		}
+
 		appendStackDistanceOfTestcaseToResult(createTestcaseIdentifier(description));
 	}
```

- **Overview**: The problem is related to the comparison between the value returned by a test case and a .txt file with the expected output.
- **Reason why the patch has been generated**: AstorJKali managed to create the patch because it removed the instruction that adds the line missing in the expected output. In this way, the content of file and the expected output are equal.
- **Useful information for the developer**:

- **Travis CI Fixed Build information**: [https://api.travis-ci.org/v3/build/397848105](https://api.travis-ci.org/v3/build/397848105)
- **Human fix**: [https://github.com/cqse/test-analyzer/compare/901b08fede34...c3fee55007d9](https://github.com/cqse/test-analyzer/compare/901b08fede34...c3fee55007d9)

```diff
diff --git a/test-analyzer-sdist/src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/SurefireSqlTestListener.java b/test-analyzer-sdist/src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/SurefireSqlTestListener.java
index d3022047..ef086412 100644
--- a/test-analyzer-sdist/src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/SurefireSqlTestListener.java
+++ b/test-analyzer-sdist/src/main/java/de/tum/in/niedermr/ta/extensions/analysis/workflows/stackdistance/maven/SurefireSqlTestListener.java
@@ -27,7 +27,7 @@ protected String getDefaultOutputFileExtension() {
 	/** {@inheritDoc} */
 	@Override
 	protected void writeCommentToResultFile(IResultReceiver resultReceiver, String comment) {
-		resultReceiver.append("#" + comment);
+		resultReceiver.append("# " + comment);
 	}
 
 	/** {@inheritDoc} */
diff --git a/test-analyzer-sdist/src/test/data/SurefireTestListenerTest/expected-output.txt b/test-analyzer-sdist/src/test/data/SurefireTestListenerTest/expected-output.txt
index 6d3a65bd..2536406b 100644
--- a/test-analyzer-sdist/src/test/data/SurefireTestListenerTest/expected-output.txt
+++ b/test-analyzer-sdist/src/test/data/SurefireTestListenerTest/expected-output.txt
@@ -1,5 +1,6 @@
-#INFO Stack distance setup successful.
+# INFO Stack distance setup successful.
 INSERT INTO Stack_Info_Import (execution, testcase, method, minStackDistance, invocationCount) VALUES ('????', 'de.tum.in.niedermr.ta.sample.junit.SampleJUnitTestClass;testCase1', 'de.tum.in.niedermr.ta.sample.SampleClass.c(java.lang.String)', '4', '2'); 
 INSERT INTO Stack_Info_Import (execution, testcase, method, minStackDistance, invocationCount) VALUES ('????', 'de.tum.in.niedermr.ta.sample.junit.SampleJUnitTestClass;testCase1', 'de.tum.in.niedermr.ta.sample.SampleClass.b(boolean)', '3', '1'); 
 INSERT INTO Stack_Info_Import (execution, testcase, method, minStackDistance, invocationCount) VALUES ('????', 'de.tum.in.niedermr.ta.sample.junit.SampleJUnitTestClass;testCase1', 'de.tum.in.niedermr.ta.sample.SampleClass.a(int,int)', '2', '1'); 
 INSERT INTO Stack_Info_Import (execution, testcase, method, minStackDistance, invocationCount) VALUES ('????', 'de.tum.in.niedermr.ta.sample.junit.SampleJUnitTestClass;testCase1', 'de.tum.in.niedermr.ta.sample.SampleClass.a()', '1', '2'); 
+# Failing test case: de.tum.in.niedermr.ta.sample.junit.SampleJUnitTestClass;testCase2
\ No newline at end of file
```

### dotwebstack-dotwebstack-framework-363986485-20180409-090844

- **Branch associated with the failure**: [repairnator-repairnator-experiments-dotwebstack-dotwebstack-framework-363986485-20180409-090844-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-dotwebstack-dotwebstack-framework-363986485-20180409-090844-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [DirectEndPointRequestMapperTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/f1b4847020795def5ebf06ee012da718fae6b2ee/frontend/ld/src/test/java/org/dotwebstack/framework/frontend/ld/mappers/DirectEndPointRequestMapperTest.java#L145) | [DirectEndPointRequestMapper.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/f1b4847020795def5ebf06ee012da718fae6b2ee/frontend/ld/src/main/java/org/dotwebstack/framework/frontend/ld/mappers/DirectEndPointRequestMapper.java#L66-L67)|

- **Kali patch**:

```diff
--- /src/main/java/org/dotwebstack/framework/frontend/ld/mappers/DirectEndPointRequestMapper.java
+++ /src/main/java/org/dotwebstack/framework/frontend/ld/mappers/DirectEndPointRequestMapper.java
@@ -44,7 +44,6 @@
 		java.lang.String basePath = endPoint.getStage().getFullPath();
 		java.lang.String absolutePath = basePath.concat(endPoint.getPathPattern());
 		final java.util.Optional<org.dotwebstack.framework.frontend.ld.service.Service> deleteService = java.util.Optional.ofNullable(endPoint.getDeleteService());
-		deleteService.ifPresent(( service) -> registerTransaction(service, javax.ws.rs.HttpMethod.DELETE, absolutePath, httpConfiguration));
 		final java.util.Optional<org.dotwebstack.framework.frontend.ld.service.Service> postService = java.util.Optional.ofNullable(endPoint.getPostService());
 		postService.ifPresent(( service) -> registerTransaction(service, javax.ws.rs.HttpMethod.POST, absolutePath, httpConfiguration));
 		final java.util.Optional<org.dotwebstack.framework.frontend.ld.service.Service> putService = java.util.Optional.ofNullable(endPoint.getPutService());
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### dropwizard-metrics-374587117-20180503-220610-firstCommit

- **Branch associated with the failure**: [repairnator-repairnator-experiments-dropwizard-metrics-374587117-20180503-220610-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-dropwizard-metrics-374587117-20180503-220610-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.mockito.exceptions.verification.WantedButNotInvoked | [InstrumentedHttpClientsTimerTest.java]() | [InstrumentedNHttpClientBuilder.java]()|

- **Kali patch**:

```diff
--- /src/main/java/io/dropwizard/metrics5/httpasyncclient/InstrumentedNHttpClientBuilder.java
+++ /src/main/java/io/dropwizard/metrics5/httpasyncclient/InstrumentedNHttpClientBuilder.java
@@ -85,8 +85,8 @@
 		@java.lang.Override
 		public void failed(java.lang.Exception ex) {
 			timerContext.stop();
-			if (callback != null) {
-				callback.failed(ex);
+			if (true) {
+				this.callback.failed(ex);
 			}
 		}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### eclipse-hono-338971473-20180208-141728-firstCommit

- **Branch associated with the failure**: [repairnator-repairnator-experiments-eclipse-hono-338971473-20180208-141728-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-eclipse-hono-338971473-20180208-141728-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.mockito.exceptions.verification.WantedButNotInvoked | [EventConsumerImplTest.java]() | [AbstractHonoClient.java]()|

- **Kali patch**:

```diff
--- /src/main/java/org/eclipse/hono/client/impl/AbstractHonoClient.java
+++ /src/main/java/org/eclipse/hono/client/impl/AbstractHonoClient.java
@@ -149,7 +149,7 @@
 					org.eclipse.hono.client.impl.AbstractHonoClient.LOG.debug("receiver open attach failed [{}] by peer [{}]: {}", receiver.getRemoteSource(), con.getRemoteContainer(), openAttach.cause().getMessage());
 					result.fail(openAttach.cause());
 				} else {
-					if (org.eclipse.hono.client.impl.AbstractHonoClient.LOG.isTraceEnabled()) {
+					if (true) {
 						org.eclipse.hono.client.impl.AbstractHonoClient.LOG.trace("receiver open attach succeeded [{}] by peer [{}]", receiver.getRemoteSource(), con.getRemoteContainer());
 					}
 					result.complete(openAttach.result());
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### EnMasseProject-enmasse-378592651-20180514-093752-firstCommit

- **Branch associated with the failure**: [repairnator-repairnator-experiments-EnMasseProject-enmasse-378592651-20180514-093752-firstCommit-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-EnMasseProject-enmasse-378592651-20180514-093752-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [ArtemisTest.java]() | [Artemis.java]()|

- **Kali patch**:

```diff
--- /src/main/java/io/enmasse/amqp/Artemis.java
+++ /src/main/java/io/enmasse/amqp/Artemis.java
@@ -83,7 +83,7 @@
 		source.setDynamic(true);
 		receiver.setSource(source);
 		receiver.openHandler(( h) -> {
-			if (h.succeeded()) {
+			if (true) {
 				promise.complete(new io.enmasse.amqp.Artemis(vertx.getOrCreateContext(), connection, sender, receiver, h.result().getRemoteSource().getAddress(), replies));
 			} else {
 				if (retries > io.enmasse.amqp.Artemis.maxRetries) {
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### EnMasseProject-enmasse-387846982-20180604-173506-firstCommit

- **Branch associated with the failure**: [repairnator-repairnator-experiments-EnMasseProject-enmasse-387846982-20180604-173506-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-EnMasseProject-enmasse-387846982-20180604-173506-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [HTTPServerTest.java]() | [APIGroupVersion.java]()|

- **Kali patch**:

```diff
--- /src/main/java/io/enmasse/api/v1/types/APIGroupVersion.java
+++ /src/main/java/io/enmasse/api/v1/types/APIGroupVersion.java
@@ -13,7 +13,6 @@
 
 	public APIGroupVersion(java.lang.String groupVersion, java.lang.String version) {
 		this.groupVersion = groupVersion;
-		this.version = version;
 	}
 
 	@com.fasterxml.jackson.annotation.JsonProperty("groupVersion")
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### INL-BlackLab-214962527-20170325-134416-firstCommit

- **Branch associated with the failure**: [repairnator-repairnator-experiments-INL-BlackLab-214962527-20170325-134416-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-INL-BlackLab-214962527-20170325-134416-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [TestSearchesNfa.java]() | [BLSpanOrQuery.java]()|

- **Kali patch**:

```diff
--- /src/main/java/nl/inl/blacklab/search/lucene/BLSpanOrQuery.java
+++ /src/main/java/nl/inl/blacklab/search/lucene/BLSpanOrQuery.java
@@ -489,9 +489,9 @@
 	public boolean canMakeNfa() {
 		for (org.apache.lucene.search.spans.SpanQuery cl : getClauses()) {
 			nl.inl.blacklab.search.lucene.BLSpanQuery clause = ((nl.inl.blacklab.search.lucene.BLSpanQuery) (cl));
-			if (!clause.canMakeNfa())
+			if (true) {
 				return false;
-
+			}
 		}
 		return true;
 	}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### jguyet-HttpRequest-400611810-20180705-224946

- **Branch associated with the failure**: [repairnator-repairnator-experiments-jguyet-HttpRequest-400611810-20180705-224946-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-jguyet-HttpRequest-400611810-20180705-224946-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.opentest4j.AssertionFailedError | [TestRequest.java]() | [Request.java]()|

- **Kali patch**:

```diff
--- /src/main/java/com/http/Request.java
+++ /src/main/java/com/http/Request.java
@@ -235,7 +235,6 @@
 		header.put("Accept-Encoding", "gzip, deflate, br");
 		header.put("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8");
 		header.put("Connection", "Keep-Alive");
-		this.setHeader(header);
 	}
 
 	public java.lang.String getContent() {
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### jmrozanec-cron-utils-249918159-20170704-112646_bugonly

- **Branch associated with the failure**: [repairnator-repairnator-experiments-jmrozanec-cron-utils-249918159-20170704-112646_bugonly-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-jmrozanec-cron-utils-249918159-20170704-112646_bugonly-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [Issue215Test.java]() | [BetweenDayOfWeekValueGenerator.java]()|

- **Kali patch**:

```diff
--- /src/main/java/com/cronutils/model/time/generator/BetweenDayOfWeekValueGenerator.java
+++ /src/main/java/com/cronutils/model/time/generator/BetweenDayOfWeekValueGenerator.java
@@ -20,10 +20,9 @@
 		com.cronutils.model.field.expression.Between between = ((com.cronutils.model.field.expression.Between) (cronField.getExpression()));
 		int from = ((java.lang.Integer) (between.getFrom().getValue()));
 		int to = ((java.lang.Integer) (between.getTo().getValue()));
-		while (from <= to) {
-			dowValidValues.add(from);
+		while (from <= to)
 			from += 1;
-		} 
+
 	}
 
 	@java.lang.Override
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### Mistahmilla-SudokuSolver-372495757-20180428-211304

- **Branch associated with the failure**: [repairnator-repairnator-experiments-Mistahmilla-SudokuSolver-372495757-20180428-211304-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-Mistahmilla-SudokuSolver-372495757-20180428-211304-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [NakedSubsetTest.java]() | [NakedSubset.java]()|

- **Kali patch**:

```diff
--- /src/main/java/org/mistahmilla/sudoku/solvers/NakedSubset.java
+++ /src/main/java/org/mistahmilla/sudoku/solvers/NakedSubset.java
@@ -28,12 +28,12 @@
 								}
 							}
 						}
-						if (count >= 2) {
+						if (true) {
 							for (int x = section.getMinX(); x < section.getMaxX(); x++) {
 								for (int y = section.getMinY(); y < section.getMaxY(); y++) {
 									if (squares[x][y] != 'x') {
-										board.getSquare(x, y).removePossibleValue(a);
-										board.getSquare(x, y).removePossibleValue(b);
+										this.board.getSquare(x, y).removePossibleValue(a);
+										this.board.getSquare(x, y).removePossibleValue(b);
 									}
 								}
 							}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### MPI-ExperimentGroup-ExperimentTemplate-384776966-20180528-170150

- **Branch associated with the failure**: [repairnator-repairnator-experiments-MPI-ExperimentGroup-ExperimentTemplate-384776966-20180528-170150-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-MPI-ExperimentGroup-ExperimentTemplate-384776966-20180528-170150-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [AudioAsStimuliProviderTest.java]() | [RandomIndexing.java]()|

- **Kali patch**:

```diff
--- /src/main/java/nl/mpi/tg/eg/frinex/adaptivevocabularyassessment/client/RandomIndexing.java
+++ /src/main/java/nl/mpi/tg/eg/frinex/adaptivevocabularyassessment/client/RandomIndexing.java
@@ -68,7 +68,6 @@
 				int offset = offsetBuffer.get(indOffset);
 				retVal.add((i * blockSize) + offset);
 				offsetBuffer.remove(new java.lang.Integer(offset));
-				offsetBuffer.remove(new java.lang.Integer(offset - 1));
 				offsetBuffer.remove(new java.lang.Integer(offset + 1));
 			}
 		}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### nablarch-nablarch-example-http-messaging-361036711-20180402-045142

- **Branch associated with the failure**: [repairnator-repairnator-experiments-nablarch-nablarch-example-http-messaging-361036711-20180402-045142-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-nablarch-nablarch-example-http-messaging-361036711-20180402-045142-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.junit.ComparisonFailure | [ProjectSaveActionRequestTest.java]() | [ProjectSaveAction.java]()|

- **Kali patch**:

```diff
--- /src/main/java/com/nablarch/example/action/ProjectSaveAction.java
+++ /src/main/java/com/nablarch/example/action/ProjectSaveAction.java
@@ -17,7 +17,7 @@
 	protected nablarch.fw.messaging.ResponseMessage onError(java.lang.Throwable e, nablarch.fw.messaging.RequestMessage requestMessage, nablarch.fw.ExecutionContext context) {
 		requestMessage.setFormatterOfReply(com.nablarch.example.action.ProjectSaveAction.createFormatter());
 		java.lang.String statusCode = java.lang.String.valueOf(nablarch.fw.web.HttpResponse.Status.INTERNAL_SERVER_ERROR.getStatusCode());
-		if (e instanceof nablarch.core.message.ApplicationException) {
+		if (true) {
 			statusCode = java.lang.String.valueOf(nablarch.fw.web.HttpResponse.Status.BAD_REQUEST.getStatusCode());
 		}
 		java.util.Map<java.lang.String, java.lang.String> map = new java.util.HashMap<>();
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### OpenFeign-feign-413754623-20180808-215547

- **Branch associated with the failure**: [repairnator-repairnator-experiments-OpenFeign-feign-413754623-20180808-215547-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-OpenFeign-feign-413754623-20180808-215547-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [JAXBCodecTest.java]() | [JAXBDecoder.java]()|

- **Kali patch**:

```diff
--- /src/main/java/feign/jaxb/JAXBDecoder.java
+++ /src/main/java/feign/jaxb/JAXBDecoder.java
@@ -24,7 +24,7 @@
 		if (response.body() == null)
 			return null;
 
-		if (type instanceof java.lang.reflect.ParameterizedType) {
+		if (false) {
 			java.lang.reflect.ParameterizedType ptype = ((java.lang.reflect.ParameterizedType) (type));
 			type = ptype.getRawType();
 		}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### opentracing-contrib-java-hazelcast-390335750-20180610-103253

- **Branch associated with the failure**: [repairnator-repairnator-experiments-opentracing-contrib-java-hazelcast-390335750-20180610-103253-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-opentracing-contrib-java-hazelcast-390335750-20180610-103253-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [TracingTest.java]() | [TracingEntryBackupProcessor.java]()|

- **Kali patch**:

```diff
--- /src/main/java/io/opentracing/contrib/hazelcast/TracingEntryBackupProcessor.java
+++ /src/main/java/io/opentracing/contrib/hazelcast/TracingEntryBackupProcessor.java
@@ -20,7 +20,6 @@
 		io.opentracing.Span span = io.opentracing.contrib.hazelcast.TracingHelper.buildSpan("process", parent, traceWithActiveSpanOnly);
 		span.setTag("entryBackupProcessor", io.opentracing.contrib.hazelcast.TracingHelper.nullableClass(entryBackupProcessor));
 		span.setTag("entry", io.opentracing.contrib.hazelcast.TracingHelper.nullable(entry));
-		io.opentracing.contrib.hazelcast.TracingHelper.decorateAction(() -> entryBackupProcessor.processBackup(entry), span);
 	}
 }
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### pac4j-pac4j-322406277-20171228-030236_bugonly

- **Branch associated with the failure**: [repairnator-repairnator-experiments-pac4j-pac4j-322406277-20171228-030236_bugonly-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-pac4j-pac4j-322406277-20171228-030236_bugonly-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [StringConverterTests.java]() | [StringConverter.java]()|

- **Kali patch**:

```diff
--- /src/main/java/org/pac4j/core/profile/converter/StringConverter.java
+++ /src/main/java/org/pac4j/core/profile/converter/StringConverter.java
@@ -8,7 +8,7 @@
 
 	@java.lang.Override
 	protected java.lang.String internalConvert(final java.lang.Object attribute) {
-		if (null != attribute) {
+		if (false) {
 			return attribute.toString();
 		} else {
 			return null;
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### ryhita-gilded-rose-349620528-20180306-041741

- **Branch associated with the failure**: [repairnator-repairnator-experiments-ryhita-gilded-rose-349620528-20180306-041741-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-ryhita-gilded-rose-349620528-20180306-041741-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [ItemTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/22fa712df21b7215a3596cfc42e56cc85154f309/src/test/java/fr/esiea/ItemTest.java#L35) | [BackstagePassesItem.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/22fa712df21b7215a3596cfc42e56cc85154f309/src/main/java/fr/esiea/BackstagePassesItem.java#L19)|

- **Kali patch**:

```diff
--- /src/main/java/fr/esiea/BackstagePassesItem.java
+++ /src/main/java/fr/esiea/BackstagePassesItem.java
@@ -15,11 +15,11 @@
 				quality++;
 
 		}
-		if (this.sellIn < 6)
+		if (false) {

 		if (this.sellIn < fr.esiea.Item.SELLIN_IS_OVER)
 			quality = 0;
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### swissquote-carnotzet-351211949-20180309-095950

- **Branch associated with the failure**: [repairnator-repairnator-experiments-swissquote-carnotzet-351211949-20180309-095950-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-swissquote-carnotzet-351211949-20180309-095950-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [DefaultCommandRunnerTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/fe9d8b810c7588a47bfe920c51118545d3e563b8/core/src/test/java/com/github/swissquote/cartnotzet/core/runtime/DefaultCommandRunnerTest.java#L36) | [DefaultCommandRunner.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/fe9d8b810c7588a47bfe920c51118545d3e563b8/core/src/main/java/com/github/swissquote/carnotzet/core/runtime/DefaultCommandRunner.java#L90)|

- **Kali patch**:

```diff
--- /src/main/java/com/github/swissquote/carnotzet/core/runtime/DefaultCommandRunner.java
+++ /src/main/java/com/github/swissquote/carnotzet/core/runtime/DefaultCommandRunner.java
@@ -67,7 +67,6 @@
 			java.lang.Process p = pb.start();
 			p.waitFor();
 			java.lang.String output = org.apache.commons.io.FileUtils.readFileToString(tmp);
-			output = output.trim();
 			if (p.exitValue() != 0) {
 				throw new java.lang.RuntimeException((((("External command [" + com.google.common.base.Joiner.on(" ").join(command)) + "] exited with [") + p.exitValue()) + "], output: ") + output);
 			}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### timmolter-XChange-301755888-20171114-043126_bugonly

- **Branch associated with the failure**: [repairnator-repairnator-experiments-timmolter-XChange-301755888-20171114-043126_bugonly-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-timmolter-XChange-301755888-20171114-043126_bugonly-firstCommit)

- **Information about the failure**:

| Failure type | Failing test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| java.lang.AssertionError | [KrakenAdaptersTest.java]() | [KrakenAdapters.java]()|

- **Kali patch**:

```diff
--- /src/main/java/org/knowm/xchange/kraken/KrakenAdapters.java
+++ /src/main/java/org/knowm/xchange/kraken/KrakenAdapters.java
@@ -175,11 +175,6 @@
 		}
 		java.util.Map<org.knowm.xchange.currency.Currency, org.knowm.xchange.dto.meta.CurrencyMetaData> currencies = new java.util.HashMap<>();
 		currencies.putAll(originalMetaData.getCurrencies());
-		for (java.lang.String krakenAssetCode : krakenAssets.keySet()) {
-			org.knowm.xchange.kraken.dto.marketdata.KrakenAsset krakenAsset = krakenAssets.get(krakenAssetCode);
-			org.knowm.xchange.currency.Currency currencyCode = org.knowm.xchange.kraken.KrakenAdapters.adaptCurrency(krakenAssetCode);
-			currencies.put(currencyCode, new org.knowm.xchange.dto.meta.CurrencyMetaData(krakenAsset.getScale()));
-		}
 		return new org.knowm.xchange.dto.meta.ExchangeMetaData(pairs, currencies, originalMetaData == null ? null : originalMetaData.getPublicRateLimits(), originalMetaData == null ? null : originalMetaData.getPrivateRateLimits(), originalMetaData == null ? null : originalMetaData.isShareRateLimits());
 	}
```

- **Overview**:
- **Reason why the patch has been generated**:
- **Useful information for the developer**:

### usgs-volcano-core-408694507-20180726-231401

- **Branch associated with the failure**: [repairnator-repairnator-experiments-usgs-volcano-core-408694507-20180726-231401-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/tree/repairnator-repairnator-experiments-usgs-volcano-core-408694507-20180726-231401-firstCommit)

- **Failing Travic CI Build**: [https://api.travis-ci.org/v3/build/408694507](https://api.travis-ci.org/v3/build/408694507)

- **Passed Travis CI Build**: [https://api.travis-ci.org/v3/build/408705348](https://api.travis-ci.org/v3/build/408705348)

- **Pull Request**: [https://github.com/usgs/volcano-core/pull/81](https://github.com/usgs/volcano-core/pull/81)

- **Information about the failure**:

| Failure type | Detail    | Failing test case | Changed file by AstorJKali |
|--------------|-----------|-------------------|----------------------------|
| java.lang.AssertionError |Expected exception: com.martiansoftware.jsap.ParseException| [ScnlParserTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7a102271bb4afef361762612372dc520fdfc91fb/src/test/java/gov/usgs/volcanoes/core/args/parser/ScnlParserTest.java#L67) | [Scnl.java](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7a102271bb4afef361762612372dc520fdfc91fb/src/main/java/gov/usgs/volcanoes/core/data/Scnl.java#L150)|

- **Kali patch**:

```diff
--- /src/main/java/gov/usgs/volcanoes/core/data/Scnl.java
+++ /src/main/java/gov/usgs/volcanoes/core/data/Scnl.java
@@ -82,7 +82,6 @@
 
 	public static gov.usgs.volcanoes.core.data.Scnl parse(java.lang.String scnlString) throws gov.usgs.volcanoes.core.util.UtilException {
 		if (scnlString.indexOf("$") == (-1)) {
-			return gov.usgs.volcanoes.core.data.Scnl.parse(scnlString, " ");
 		}
 		return gov.usgs.volcanoes.core.data.Scnl.parse(scnlString, gov.usgs.volcanoes.core.data.Scnl.DELIMITER);
 	}
```

- **Overview**: The test case fails because it expects an execption, but it doesn't occur. The test case fails after the developer [introduced a piece of code to handle cases when delimiter is a space](https://github.com/usgs/volcano-core/pull/81/commits/1769466b7484a0b60090da003f5069cff2fb7a74). Since, she didn't update the test case to support this new feature, the test case fails. Indeed, looking at the commit history of the project, the developer [changed the test case](https://github.com/usgs/volcano-core/pull/81/commits/055a3c1f1af7db2b625e435b969123a57c7f628b) to fix the problem.
- **Reason why the patch has been generated**: AstorJKali managed to create the patch because it deleted the `return instruction` introduced by developer in the last commit to handle the case in which the space is a delimiter. In this way, the program doesn't actually test the input with space as delimiter, but [it uses the `$` delimiter already present in the previous version of the program](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7a102271bb4afef361762612372dc520fdfc91fb/src/main/java/gov/usgs/volcanoes/core/data/Scnl.java#L152). Since the input string doesn't contain the symbol `$`, the program enters in [this branch](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7a102271bb4afef361762612372dc520fdfc91fb/src/main/java/gov/usgs/volcanoes/core/data/Scnl.java#L170), and it throws the exception, making passing the test case.
- **Useful information for the developer**: the Kali patch removed exaclty the return statement added in the commit that changed the status of build from `passing` to `failing`. Since this `return` statement contains [the call to the parsing method using space ad delimiter](https://github.com/repairnator/repairnator-experiments-jkali-one-failing-test-case/blob/7a102271bb4afef361762612372dc520fdfc91fb/src/main/java/gov/usgs/volcanoes/core/data/Scnl.java#L150), the developer can check if the problem is related to the logic of method that doesn't manage property this case or if the problem is in the input of the test case.
- **Human fix**:

```diff
diff --git a/src/test/java/gov/usgs/volcanoes/core/args/parser/ScnlParserTest.java b/src/test/java/gov/usgs/volcanoes/core/args/parser/ScnlParserTest.java
index 0b603de6..2eab1105 100644
--- a/src/test/java/gov/usgs/volcanoes/core/args/parser/ScnlParserTest.java
+++ b/src/test/java/gov/usgs/volcanoes/core/args/parser/ScnlParserTest.java
@@ -2,13 +2,11 @@
 
 import static org.junit.Assert.assertEquals;
 
-import org.junit.Test;
-
 import com.martiansoftware.jsap.ParseException;
 
-import gov.usgs.volcanoes.core.args.parser.ScnlParser;
 import gov.usgs.volcanoes.core.data.Scnl;
-import gov.usgs.volcanoes.core.data.ScnlTest;
+
+import org.junit.Test;
 
 /**
  * 
@@ -65,6 +63,6 @@ public void when_givenScn_return_scn() throws ParseException {
    */
   @Test(expected = ParseException.class)
   public void when_givenBadScnl_then_throwHelpfulException() throws ParseException {
-    parser.parse("not a SCNL");
+    parser.parse("not-a-SCNL");
   }
 }
 ```
