language: java
jdk:
- oraclejdk8
cache:
  directories:
  - .autoconf
  - $HOME/.m2
before_install:
- export TZ=Pacific/Noumea
install: mvn clean install checksum:files -DskipTests=true -Dmaven.javadoc.skip=true
  -B -V
script:
- mvn versioneye:update test jacoco:report
after_success:
- mvn coveralls:report
env:
  global:
  - secure: bYviCJly48MPonyPsJ0NH612yIB8Z2LssZz5FmqGpZ/KoM5RTAwo/zL6GVFdiIVOsdn63EWS60KUVpQ9Tccbo/Fx8KmsVIkh9IsVT85HwWe1IjLPLnADAmlKktnL73QyUG1VsOgMHzAIsjTrSzxfTKRswN8scvrInzcHioZKIiL0mzJ/T2f8/Bq78I9eYfFv+7FSbOijpyTIT2ZYiF75ysgOBEUoPF3feEGJSn9+qp5AnWwMnIct8nywGraqOVWV5SrOIGZ0KL3GAzEhBbP/KIyCUN+yzuYzz1VohAkRmfMc4FNnaarG4PVCFI808zcmyFZTYILk61t4fo3XhMoA3N6tNQ7ow2nrA3opuz4ivIJ+6RPw6EtrJetCiRzOLAwQ6Q3Gi7GIM7enEnyPtesLo/73uRkk28zcYOvJfTvzuEpNsqKSHKtWQn1BBiI3iiZBi026L1+gVXWKSFyZ+3sfyRTpToPvoqiDsCgACu/7i4IeNDBpAwNklH28JjM0nMEE6S4W4i0qo+71tqmtvhlTDgQaBolBLn7bWhDRpJYGLVDvT8Cm3MtAEatqxk2iySnV/THq0C9u+juZL1G/GL2etq3hRCqkvPydTb94omowfG0/WASqsEcBdOsIcFvNUuVsqaEUr75pb9HFKIPtz8MIbV9fa+G/V9FwIU+NFjrdigo=
  - secure: im9z4J49pEc5hxdBYs+/WVAFFWOcTlIozMUQGPJPv6XuLwVd03+gjqrtULcTbCDNyVPfnUo4qyh9mooHqfnjLfQ26Yy/8bemnV6w2NZJbvGw5flF4S+HLcq04IK5/IA4rr/POKYBgU0OwuPjbmUor6BzTz24oI5ClR7O59giQd1/jm+iHGmPJt8y/7FJy8HXx/xwwRe72lxvE2BUyfNcgxTOlQBg46n7fCLIyghXwBfzRzui1qHjErxan801IqYwAtHihjuEWlwiA6r1v3II2LCGwDnNxEiyD9Bc3wGTPpgVqbB1kIx2sHTt9ZndqLqHCgOzimvhSEN3uFdtfMDnToQBywp/vuX23Tp8x/rcrNpXZhzVydzhh/NM5I6NGCsxvzlbx9h6CGVMT8pVgjFUjJyDOAXfduOhRrdXTgNvfFI6mCdcpTv3Yrlq3Z8WUJex2evC32mKClceNYVpYVxlRI+Zrx5iBk3lNEB4z83AjizhY3ggxbKi8pTr5/M3uufYHLNWfGfhDytQDjFV2jONkt8bP+/tSiOQruIbbtpzlBqGZArfeTdNLMmS2kYbO26BMXGFmVVz0uGX8o20jw6Aprns3NtCKFLZDncs+GYeWEUShP4c2j/DbZQTSsigdK7RV+y/A0W1mnnWMYkuyDsS8tOKSlvDFktitsP0zGF/3VA=
  - secure: jXjr9n+9zkB5geP6CJrUcSgd6bgYLApSvcBZA8081fp5kg6vuWYzMrCCawT1zFKEvBwsdDOorZ/VbtiyPhdqve09JoZ0glUKux1WSEeSxARC1k6l2s1FPD5LetD9PjOZ2hIZz9PSWgnqeW+xKLtpmNgI6Rnjp6jwhuacxFm+lgjlSNZzmJUEndgNcrZVKyxb9lyl5Xak5l5PVx7iuSeWq26gTwrJh/eVzrznBufgkN+lyshMkydn5fkp0JBXyWP6kb4n16RIGiqUHyiJs4ObQHKeuOElKlFnWAXYLNXZZzlWFVAMhuZYanjrex3byafCVUMa+Sbha4+jUj+NtxD4XeWSpp1UeYCyStE+snXESiOmA2mLEmgaqIGV85IZ2+MU/lsIc6t6utC5M1qzSMLxUPOHBna3NtasRN6yVH1ycB9e3ApWCOaeIJo6OcEbHnNDagx4Q4hAkuQhzgMcYT5uSGsNuUOKK6X355MvVVsA4XWOmlXWxOE6dynGG8K0bNWCIznC3QPcE9LxZcjAoa3+R+8TIfgM7OjX5bN/u1mUxG0nIuvSppSq6qKqveeXrmQbt4fxm8eXIgGHOaOfzQ+eLvMMt1vPVVCrY3q3XVApTwPj8wak80J8eSYbFaQ7j9aiP3S48naEjqlQgsVoMd6tusF3DDTIhwy7QWZStxeWYZE=
  - secure: RxJA0hYbuIDd00rnmJZX9rcGnkGgQkU0b+TQ1Q52Ti0R4UzMaEWFbsucnK5s/qEEFhF8Sb7tvR1SUDJEwEXRdvgOD+YiEuu2YXdTMcFwpgrHm9WkQEBxi435SiCyXRTikmpeGnjcs5fwUWW+kY+RsB3sq0beqzQMivDAC/g1nMohIy6D+hGCrdM92K7MF6NfKUb+FAUiBeBC0NVPGbaDK5B4EE2A6nGtUp7yzsduUm8NUPTGdb81JZlXNx7smosEN0RFR5fEkK8TVFAfltfMlpBH56tk8Bf4/Lda+jx0MPLfh54T96TGUBakZjINYNMcs+loCMxU8OK4N6ntZUSef3fb3oQDqU9ShXPl5mJ8fVHer+vBRGGKOuEBJDwejjJ+JDovv7B/tAxfdf+pf9M6cycBXR8DfHR8DtSZuMUR9fP6Sk6J1WJwZ1RhRV+QgMqKUYUbVi/b3OTR5dlCv6IjX9mTIoQKaAu7mCj74MidlvkYNny/Jj8Fj+DnM09ncDxwqs3hjcjl1Ghnqr2PAJeBzStwelmCnFSG4gL2bH2Gb8M7+XdkHoUo0dR5Z2dbKU+vdsB+KxtICjDgosFfHwsbTT13i9d9l3t/gRCfyTU/JBI8XwMdMXHRL3+wXA467Sag4rxOEe+eac9ItEEhAqZYvbw8PJS0xwbolkz7jiM/7YE=
before_deploy:
- export RELEASE_PKG_FILE=$(ls target/*.war)
- export RELEASE_PKG_MD5_FILE=$(ls target/*.war.md5)
- export RELEASE_PKG_SHA_FILE=$(ls target/*.war.sha1)
- echo "deploying $RELEASE_PKG_FILE , $RELEASE_PKG_MD5_FILE , $RELEASE_PKG_SHA_FILE
  to GitHub releases"
deploy:
  provider: releases
  api_key:
    secure: ddUMFCFszXDCFLYyZPAmPXLS6lLKbaeOu4Ejk/g4YNbzbQRLK/3M6bZ7C6mwqch0U5xIoBO6vrVoqIkxwLb8biKKMXuQMYv8VYJMVdIedBne4WEewZh5NHcoKMalZcF4EeNxeNvCBT+zdufdpeeolCCjD4x9iiLMunzCngPLfcoeTwsey4mxd4hMd6pHso/CMEPMWzVcSXKGFObKgiHw5Wd9qleU65TYb7R/rtEYmJ2nMQLmsvZ8vsHo5Jj2AoRErKFEJKKVl6ZQ0tmugm/Vkt1cjfpV+5AkDccHRVgpxgIPQRSNg5srbVRu5IVnEhoex77GopIHCd9dl2o8Rv+aBXqSsM/GZfSeggsyLFvFmWFIcSH/fwfnMFZpsv/0JXEYj5blwmsf899AR+sqspzc7fcr0gL8JLnDR6C7bnhfnCjdccvWl6SVte2g358K/y9T/P+2InFzAIp3dOIw2iJRYIeImL4KHJstJNPkk8FIV+IkbI/ZRiNtS9EidlgNBqKFTUZiXJyGpP3L7SiR6s7Ec1Wh0dNeSJ1M1CqlerOYr3++yUvmZSFGvQMgMU5MQfhCibF6T63KP/Sy1QaEaCr/MCO6AZ5LLZS4FRT9/9kngP9eAGx5BY2G/qKF/WoboBRRO3DIRDs09G0hnijeSSGSwrqrOjbW2eTT48Vu69SS7Jw=
  file:
  - ${RELEASE_PKG_FILE}
  - ${RELEASE_PKG_MD5_FILE}
  - ${RELEASE_PKG_SHA_FILE}
  skip_cleanup: true
  on:
    tags: true
    repo: DSI-Ville-Noumea/radi
notifications:
  slack:
    rooms:
      secure: WfzmMEqKjc4bEJZ/LJKNugMFq3hXsA6zRdiFqvs/yOxZUt9OJKftnvtJDFKuwRFS5t6fUHe8iAPRS0RWW0eJTAa1dhimdNo5/iRD9ggqCBdx5O4FwaDE9lDnWjrc+yy0wAaNWGLwV01o0ptd/zlBmfOEqMNZClgFQQmcAHq4gHOcg8WKZoCtY3xicH0FqMZxLnpODadtR33U0BiBLskTtO95utXhB5/Rrfv7zMH5/zSBVIxyHgcSg0a7xksaQeqhanA9EifsD+CVR7bSQS/5f8WHPXxa3cCd9dCD/S+vQwAqmBxi7fwDops+1lh2pGgYCUR51XF6mi08ATSBNoDlv77Cm5ZvxVoKkh0+AyLUSVteiM52CCHKRHkKhuU68P0GcyYNs9Vfq1sX3Thg1oJMR9vMgdY+gkui9ase/gUOs4MyBUjWIwW7Ac8ttZpXKNLqPnFuq/EVsTsrQ8mIkOEELDwbdXxs4HidxHKaKMMImOcczLnkqVBv7xlvw+KjQNtVyxEd/z+qfGll8nt4tr9s0hYnm5AbO8y2OICwUHnNZz1x6JWbGHDBRLx1XI2vhxhYEJY00GN5w8Y+pJeeUCCve/zwUC7TtOfLabmTmdtegUIolY5M6gX5qvGspjJ6dZbtXL+lusvd2rk5Sgy4gEmT/IO+hdy2KoKoM4RtjWrUVvs=
